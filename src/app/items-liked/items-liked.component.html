
<body>
<div class="row">
  <ul id="thumbnailsList">

    <li *ngFor = "let image of visibleImages"  >
      <div class="imageCaption" *ngIf="image.category !== 'testCategory'">
        <div id="likeButtons">
          <div *ngIf="!isLiked(image)">
            <button id = "like{{image.id}}" class ="like" (click)="likeItem(image.id,image)" style="background-image: url('../../assets/img/blankcircle.png')"></button>
          </div>
          <div *ngIf="isLiked(image)">
            <button id = "unlike{{image.id}}" class ="unlike" (click)="unlikeItem(image.id,image)" style="background-image: url('../../assets/img/checkmark.png')"></button>
          </div>
        </div>
        <a (click)="open(content)">
          <figure>
            <img class="urlImage" src={{image.url}} width = "200" height = "200" style="border:4px solid #f2f2f2">
            <figcaption>{{image.name}}</figcaption>
            <figcaption>${{image.price}}</figcaption>
          </figure>
        </a>
      </div>


      <ng-template #content let-c="close" let-d="dismiss">
        <div class="modal-header" >
          <h4 style="float: center;" align="center" class="modal-title"></h4>
          <button style="float: center;" align="center" type="button" class="close" aria-label="Close"  (click)="d('Cross click')" >
            <span aria-hidden="true">&times;</span>
          </button>


        </div>
        <p>&nbsp;</p>
        <div style="float:center" align="center" class="modal-body">
          <img class = "modalImg" src= {{image.url}} width = "60%" height = "60%">
          <p>&nbsp;</p>
          <h2>
            <p style="float:center; padding: 1em;" align="center">{{image.name}}</p>
          </h2>
          <hr />
          <p>&nbsp;</p>
          <p align="center" style="padding: 1em">Product Description</p>
          <p style="float:center;padding: 1em;background-color: #cceeff;border:4px solid #f2f2f2;width:450px" align="center" >{{image.description}}</p>
          <p>&nbsp;</p>
          <p align="center" style="padding: 1em">Current Price</p>
          <p style="float:center;padding: 1em;background-color: #cceeff;border:4px solid #f2f2f2;width:150px" align="center">${{image.price}}</p>
          <p>&nbsp;</p><p>&nbsp;</p>
          <!--<app-d3graph></app-d3graph>-->
          <p align="center" style="padding: 1em">Top Rated Items Related To Your Search</p>
          <div>
            <canvas id="myCanvas" style="height: 500px; width: 500px; border: 4px solid #f2f2f2;"  align ="right">{{chart}}</canvas>
          </div>
          <div>
            <button id = "showRatings" (click)="loadRatingChart()" style="display: inline;">See Product Ratings</button>
            <button id = "showPrices" (click)="loadPriceChart()" style="display: none;">See Product Prices</button>
          </div>
        </div>

        <div class="modal-footer">
          <!--<button type="button" class="btn btn-outline-dark" (click)="c('Close click')" style = "float:right">Close</button>-->
        </div>
      </ng-template>

    </li>
  </ul>
</div>
</body>
